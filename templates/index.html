<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Aethelgard Chronicles - Web Edition</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
</head>
<body>

    <!-- This screen shows before the user logs in -->
    <div id="login-screen" class="screen active">
        <div class="login-container">
            <img src="{{ url_for('static', filename='images/ui/game_logo.png') }}" alt="Game Logo" class="game-logo">
            <div class="form-box">
                <input type="text" id="username-input" placeholder="Username">
                <input type="password" id="password-input" placeholder="Password">
                <div class="button-group">
                    <button id="login-button">Login</button>
                    <button id="register-button">Register</button>
                </div>
            </div>
        </div>
    </div>

    <!-- This is the main game interface, hidden until login is successful -->
    <div id="game-screen" class="screen">
        <!-- TOP BAR: Player Info -->
        <div id="top-bar">
            <div id="player-info">
                <span id="player-name"></span>
                <button id="logout-button">Logout</button>
            </div>
            <div id="currency-info">
                <img src="{{ url_for('static', filename='images/ui/gem_icon.png') }}" alt="Gems">
                <span id="gem-count"></span>
            </div>
        </div>

<!-- MAIN CONTENT AREA: Views will be dynamically displayed here -->
        <div id="main-content">
            <!-- Home View -->
            <div id="home-view" class="view active">
                <h2>Your Active Team</h2>
                <div id="team-display" class="team-container"></div>
            </div>

            <!-- Collection View -->
            <div id="collection-view" class="view">
                <h2>Your Hero Collection</h2>
                <div id="collection-container" class="collection-grid">
                    <!-- Heroes will be dynamically inserted here by JavaScript -->
                </div>
            </div>

            <!-- Summon View -->
            <div id="summon-view" class="view">
                <div class="summon-area">
                    <h2>The Summoning Altar</h2>
                    <p>Use 50 Gems to summon a new hero!</p>
                    <button id="perform-summon-button">Summon</button>
                    <div id="summon-result" class="summon-result-box"></div>
                </div>
            </div>

            <!-- Campaign View -->
            <div id="campaign-view" class="view">
                <div class="campaign-container">
                    <div id="stage-list" class="stage-list-container">
                        <!-- Stages will be dynamically inserted here -->
                    </div>
                    <div class="tower-art-container">
                        <img src="{{ url_for('static', filename='images/ui/tower_art.png') }}" alt="The Spire">
                    </div>
                </div>
            </div>

            <!-- Lore View (Simple implementation) -->
            <div id="lore-view" class="view">
                 <h2>The Lore of Aethelgard</h2>
                 <div id="lore-text-container" class="lore-box"></div>
            </div>
        </div>

        <!-- BOTTOM NAVIGATION BAR -->
        <div id="nav-bar">
            <button class="nav-button" data-view="home-view">Home</button>
            <button class="nav-button" data-view="collection-view">Collection</button>
            <button class="nav-button" data-view="summon-view">Summon</button>
            <button class="nav-button" data-view="campaign-view">Campaign</button>
            <button class="nav-button" data-view="lore-view">Lore</button>
        </div>
    </div>

    <!-- CHAT FEATURE -->
    <div id="chat-container">
        <h3>World Chat</h3>
        <div id="chat-messages"></div>
        <div id="chat-input-area">
            <input type="text" id="chat-input" placeholder="Type a message...">
            <button id="chat-send-button">Send</button>
        </div>
    </div>

    <!-- Link to our JavaScript file -->
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>